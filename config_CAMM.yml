# ========== CAMM MICROSCOPE CONFIGURATION ==========
# Hardware and physical configuration only
# Imaging conditions (exposure, gain, etc.) are in imageprocessing_CAMM.yml
# Autofocus settings are in autofocus_CAMM.yml

microscope:
  name: 'CAMM'
  type: 'Multimodal'
  detector_in_use: null
  objective_in_use: null
  modality: null

# ========== MODALITY-SPECIFIC SETTINGS ==========
modalities:
  brightfield:
    type: 'brightfield'
    lamp:
      device: 'LED-Dev1ao0'
      control_type: 'voltage'
    background_correction:
      enabled: true
      method: 'divide'
      base_folder: "D:/2025QPSC/data/background_tiles"
      # Path: {base_folder}/{microscope}/brightfield/{magnification}x/{detector}/background.tif

  shg:  # Second Harmonic Generation
    type: 'multiphoton'
    laser:
      device: 'Chameleon'
      wavelength_nm: 800
      wavelength_range_nm: [690, 1040]
    # Variable magnification through scanning zoom
    magnification_control:
      type: 'zoom'
      range: [0.5, 10.0]  # Available zoom range
    background_correction:
      enabled: false  # No background correction for SHG

# ========== AVAILABLE HARDWARE ==========
# Lists of available hardware components on this microscope.
hardware:
  objectives:
    - id: 'LOCI_4x_001'
      pixel_size_xy_um:
        LOCI_CAMERA_001: 1.105  # Fixed for camera-based detection
    - id: 'LOCI_20x_001'
      pixel_size_xy_um:
        LOCI_CAMERA_001: 0.222  # Fixed for camera-based detection
      # For scanning modalities with variable pixel size
      scan_parameters:
        base_fov_um: 500  # Field of view at zoom = 1.0
        # Pixel size = base_fov_um / (scan_resolution * zoom_factor)

  detectors:
    - 'LOCI_CAMERA_001'   # Brightfield camera
    - 'LOCI_PMT_001'      # PMT for multiphoton imaging

# ========== STAGE CONFIGURATION ==========
stage:
  stage_id: 'LOCI_STAGE_001'  # ASI XYZ stage
  limits:
    # XY limits define the movement range
    x_um:
      low: 0
      high: 40000
    y_um:
      low: 0
      high: 30000
    z_um:
      low: -10700  # Stage raised with sample close to objective
      high: 100    # Stage lowered far from objective
    f_um:
      low: -18000  # Separate focus axis
      high: 0

# ========== GENERAL SETTINGS ==========
slide_size_um:
  x: 40000
  y: 20000

objective_slider:
  device: 'Turret:O:35'
  label_device: 'Label'
